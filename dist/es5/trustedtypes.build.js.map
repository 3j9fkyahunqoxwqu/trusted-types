{
"version":3,
"file":"trustedtypes.build.js",
"lineCount":35,
"mappings":"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",
"sources":[" [synthetic:util/objectcreate] "," [synthetic:es6/util/setprototypeof] "," [synthetic:es6/util/inherits] "," [synthetic:util/defineproperty] "," [synthetic:util/global] "," [synthetic:es6/symbol] "," [synthetic:es6/util/makeiterator] "," [synthetic:util/owns] "," [synthetic:util/polyfill] "," [synthetic:es6/weakmap] "," [synthetic:es6/map] ","src/data/trustedtypeconfig.js","src/polyfill/full.js","src/trustedtypes.js","src/utils/wrapper.js","src/enforcer.js","src/polyfill/api_only.js"],
"sourcesContent":["/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides a partial internal polyfill for Object.create.\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.create() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\n *\n * Does not implement the second argument.\n * @param {!Object} prototype\n * @return {!Object}\n */\n$jscomp.objectCreate =\n    ($jscomp.ASSUME_ES5 || typeof Object.create == 'function') ?\n    Object.create :\n    function(prototype) {\n      /** @constructor */\n      var ctor = function() {};\n      ctor.prototype = prototype;\n      return new ctor();\n    };\n","/*\n * Copyright 2017 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview\n * @suppress {uselessCode}\n */\n\n/**\n * @suppress {missingProperties,reportUnknownTypes}\n * @return {boolean}\n */\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a: true};\n  var y = {};\n  try {\n    y.__proto__ = x;\n    return y.a;\n  } catch (e) {\n    // __proto__ property is readonly (possibly IE 10?)\n  }\n  return false;\n};\n\n/**\n * If we can implement it, this will be a function that attempts to set the\n * prototype of an object, otherwise it will be `null`.\n *\n * It returns the first argument if successful. Throws a `TypeError` if the\n * object is not extensible.\n *\n * @type {null|function(!Object, ?Object): !Object}\n */\n$jscomp.setPrototypeOf = (typeof Object.setPrototypeOf == 'function') ?\n    Object.setPrototypeOf :\n    $jscomp.underscoreProtoCanBeSet() ?\n    function(target, proto) {\n      target.__proto__ = proto;\n      if (target.__proto__ !== proto) {\n        throw new TypeError(target + ' is not extensible');\n      }\n      return target;\n    } :\n    null;\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for ES6 extends keyword.\n * @suppress {uselessCode}\n */\n'require base';\n'require util/objectcreate';\n'require es6/util/setprototypeof';\n\n\n/**\n * Inherit the prototype methods and static methods from one constructor\n * into another.\n *\n * This wires up the prototype chain (like goog.inherits) and copies static\n * properties, for ES6-to-ES{3,5} transpilation.\n *\n * Usage:\n * <pre>\n *   function ParentClass() {}\n *\n *   // Regular method.\n *   ParentClass.prototype.foo = function(a) {};\n *\n *   // Static method.\n *   ParentClass.bar = function() {};\n *\n *   function ChildClass() {\n *     ParentClass.call(this);\n *   }\n *   $jscomp.inherits(ChildClass, ParentClass);\n *\n *   var child = new ChildClass();\n *   child.foo();\n *   ChildClass.bar();  // Static inheritance.\n * </pre>\n *\n * @param {!Function} childCtor Child class.\n * @param {!Function} parentCtor Parent class.\n * @suppress {strictMissingProperties} 'superClass_' is not defined on Function\n */\n$jscomp.inherits = function(childCtor, parentCtor) {\n  childCtor.prototype = $jscomp.objectCreate(parentCtor.prototype);\n  /** @override */ childCtor.prototype.constructor = childCtor;\n  if ($jscomp.setPrototypeOf) {\n    // avoid null dereference warning\n    /** @const {!Function} */\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    setPrototypeOf(childCtor, parentCtor);\n  } else {\n    // setPrototypeOf is not available so we need to copy the static\n    // methods to the child\n    for (var p in parentCtor) {\n      if (p == 'prototype') {\n        // Don't copy parentCtor.prototype to childCtor.\n        continue;\n      }\n      if (Object.defineProperties) {\n        var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);\n        if (descriptor) {\n          Object.defineProperty(childCtor, p, descriptor);\n        }\n      } else {\n        // Pre-ES5 browser. Just copy with an assignment.\n        childCtor[p] = parentCtor[p];\n      }\n    }\n  }\n\n  childCtor.superClass_ = parentCtor.prototype;\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n * @suppress {reportUnknownTypes}\n */\n'require util/defines';\n\n\n/**\n * Polyfill for Object.defineProperty() method:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty\n *\n * Refuses to define properties on Array.prototype and Object.prototype,\n * since we can't make them non-enumerable and this messes up peoples' for\n * loops.  Beyond this, we simply assign values and not worry\n * about enumerability or writeability.\n * @param {?} target\n * @param {string} property\n * @param {?} descriptor\n * @suppress {reportUnknownTypes}\n */\n$jscomp.defineProperty =\n    $jscomp.ASSUME_ES5 || typeof Object.defineProperties == 'function' ?\n    Object.defineProperty :\n    function(target, property, descriptor) {\n      descriptor = /** @type {!ObjectPropertyDescriptor} */ (descriptor);\n      // NOTE: This is currently never called with a descriptor outside\n      // the control of the compiler.  If we ever decide to polyfill either\n      // Object.defineProperty or Reflect.defineProperty for ES3, we should\n      // explicitly check for `get` or `set` on the descriptor and throw a\n      // TypeError, since it's impossible to properly polyfill it.\n      if (target == Array.prototype || target == Object.prototype) return;\n      target[property] = descriptor.value;\n    };\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Runtime code to store the global object.\n */\n'require base';\n'declare global';\n'declare window';\n\n\n/**\n * @param {!Object} maybeGlobal\n * @return {!Object} The global object.\n * @suppress {undefinedVars|reportUnknownTypes}\n */\n$jscomp.getGlobal = function(maybeGlobal) {\n  return (typeof window != 'undefined' && window === maybeGlobal) ?\n      maybeGlobal :\n      (typeof global != 'undefined' && global != null) ? global : maybeGlobal;\n};\n\n\n// TODO(sdh): This should be typed as \"the global object\", but there's not\n// currently any way to do this in the existing type system.\n/**\n * The global object. For browsers we could just use `this` but in Node that\n * doesn't work.\n * @const {?}\n */\n$jscomp.global = $jscomp.getGlobal(this);\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require util/defineproperty';\n'require util/global';\n\n/** @const {string} */\n$jscomp.SYMBOL_PREFIX = 'jscomp_symbol_';\n\n\n/**\n * Initializes the Symbol function.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbol = function() {\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbol = function() {};\n\n  if (!$jscomp.global['Symbol']) {\n    $jscomp.global['Symbol'] = $jscomp.Symbol;\n  }\n};\n\n\n/**\n * Produces \"symbols\" (actually just unique strings).\n * @param {string=} opt_description\n * @return {symbol}\n */\n$jscomp.Symbol = /** @type {function(): !Function} */ (function() {\n  var counter = 0;\n  /**\n   * @param {string=} opt_description\n   * @return {symbol}\n   * @suppress {reportUnknownTypes}\n   */\n  function Symbol(opt_description) {\n    return /** @type {?} */ (\n        $jscomp.SYMBOL_PREFIX + (opt_description || '') + (counter++));\n  }\n  return Symbol;\n})();\n\n\n/**\n * Initializes Symbol.iterator (if it's not already defined) and adds a\n * Symbol.iterator property to the Array prototype.\n * @suppress {reportUnknownTypes}\n */\n$jscomp.initSymbolIterator = function() {\n  $jscomp.initSymbol();\n  var symbolIterator = $jscomp.global['Symbol'].iterator;\n  if (!symbolIterator) {\n    symbolIterator = $jscomp.global['Symbol'].iterator =\n        $jscomp.global['Symbol']('iterator');\n  }\n\n  if (typeof Array.prototype[symbolIterator] != 'function') {\n    $jscomp.defineProperty(\n        Array.prototype, symbolIterator, {\n          configurable: true,\n          writable: true,\n          /**\n           * @this {Array}\n           * @return {!IteratorIterable}\n           */\n          value: function() {\n            return $jscomp.arrayIterator(this);\n          }\n        });\n  }\n\n  // Only need to do this once. All future calls are no-ops.\n  $jscomp.initSymbolIterator = function() {};\n};\n\n\n/**\n * Returns an iterator from the given array.\n * @param {!Array<T>} array\n * @return {!IteratorIterable<T>}\n * @template T\n */\n$jscomp.arrayIterator = function(array) {\n  var index = 0;\n  return $jscomp.iteratorPrototype(function() {\n    if (index < array.length) {\n      return {\n        done: false,\n        value: array[index++],\n      };\n    } else {\n      return {done: true};\n    }\n  });\n};\n\n\n/**\n * Returns an iterator with the given `next` method.  Passing\n * all iterators through this function allows easily extending\n * the definition of `%IteratorPrototype%` if methods are ever\n * added to it in the future.\n *\n * @param {function(this: Iterator<T>): T} next\n * @return {!IteratorIterable<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.iteratorPrototype = function(next) {\n  $jscomp.initSymbolIterator();\n\n  var iterator = {next: next};\n  /**\n   * @this {IteratorIterable}\n   * @return {!IteratorIterable}\n   */\n  iterator[$jscomp.global['Symbol'].iterator] = function() { return this; };\n  return /** @type {!IteratorIterable} */ (iterator);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Polyfill for for-of loops.\n */\n'require es6/symbol';\n\n\n/**\n * Creates an iterator for the given iterable.\n *\n * @param {string|!Iterable<T>|!Iterator<T>|!Arguments<T>} iterable\n * @return {!Iterator<T>}\n * @template T\n * @suppress {reportUnknownTypes}\n */\n$jscomp.makeIterator = function(iterable) {\n  $jscomp.initSymbolIterator();\n\n  // NOTE: Disabling typechecking because [] not allowed on @struct.\n  var iteratorFunction = /** @type {?} */ (iterable)[Symbol.iterator];\n  return iteratorFunction ? iteratorFunction.call(iterable) :\n      $jscomp.arrayIterator(/** @type {!Array} */ (iterable));\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require base';\n\n/**\n * Synonym for Object.prototype.hasOwnProperty.call(obj, prop).\n * @param {!Object} obj\n * @param {string} prop\n * @return {boolean}\n */\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Provides methods to polyfill native objects.\n */\n'require util/defineproperty';\n'require util/global';\n\n\n/**\n * @param {string} target Qualified name of the class or method to polyfill,\n *     e.g. 'Array.prototype.includes' or 'Map'.\n * @param {?function(*): *} polyfill A function that takes the current browser\n *     implementation of the target and returns an optional new polyfill\n *     implementation.  If null is returned, then no polyfill will be added.  A\n *     null argument for this parameter indicates that the function will not be\n *     polyfilled, and is only useful for `build_polyfill_table.js` bookkeeping.\n * @param {string} fromLang The language level in which the target is expected\n *     to already be present in the browser.  The compiler requires that\n *     `languageOut < fromLang` before injecting a polyfill (i.e. if the\n *     specified output language already includes the feature then there's no\n *     need to polyfill it).\n * @param {string} toLang The language level required by the polyfill\n *     implementation.  The compiler will issue an error if a polyfill is\n *     required, but `languageOut < toLang`.  Additionally, the\n *     `build_polyfill_table.js` script audits the polyfill dependency tree to\n *     ensure that no polyfill with a lower `toLang` depends on one with a\n *     higher `toLang`.\n * @suppress {reportUnknownTypes}\n * @noinline\n * NOTE: We prevent inlining so RemoveUnusedPolyfills can always recognize this\n * call.\n */\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  if (!polyfill) return;\n  var obj = $jscomp.global;\n  var split = target.split('.');\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) obj[key] = {};  // Might want to be defineProperty.\n    obj = obj[key];\n  }\n  var property = split[split.length - 1];\n  var orig = obj[property];\n  var impl = polyfill(orig);\n  if (impl == orig || impl == null) return;\n  $jscomp.defineProperty(\n      obj, property, {configurable: true, writable: true, value: impl});\n};\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/conformance';\n'require es6/symbol';\n'require es6/util/makeiterator';\n'require util/defineproperty';\n'require util/owns';\n'require util/polyfill';\n\n$jscomp.polyfill('WeakMap',\n    /**\n     * @param {*} NativeWeakMap\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativeWeakMap) {\n  /**\n   * Checks conformance of the existing WeakMap.\n   * @return {boolean} True if the browser's implementation conforms.\n   */\n  function isConformant() {\n    if (!NativeWeakMap || !Object.seal) return false;\n    try {\n      var x = Object.seal({});\n      var y = Object.seal({});\n      var map = new /** @type {function(new: WeakMap, !Array)} */ (\n          NativeWeakMap)([[x, 2], [y, 3]]);\n      if (map.get(x) != 2 || map.get(y) != 3) return false;\n      map.delete(x);\n      map.set(y, 4);\n      return !map.has(x) && map.get(y) == 4;\n    } catch (err) { // This should hopefully never happen, but let's be safe.\n      return false;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeWeakMap && $jscomp.ES6_CONFORMANCE) return NativeWeakMap;\n  } else {\n    if (isConformant()) return NativeWeakMap;\n  }\n\n  var prop = '$jscomp_hidden_' + Math.random();\n\n  /**\n   * Inserts the hidden property into the target.\n   * @param {!Object} target\n   */\n  function insert(target) {\n    if (!$jscomp.owns(target, prop)) {\n      var obj = {};\n      // TODO(sdh): This property will be enumerated in IE8.  If this becomes\n      // a problem, we could avoid it by copying an infrequently-used non-enum\n      // method (like toLocaleString) onto the object itself and encoding the\n      // property on the copy instead.  This codepath must be easily removable\n      // if IE8 support is not needed.\n      $jscomp.defineProperty(target, prop, {value: obj});\n    }\n  }\n\n  /**\n   * Monkey-patches the freezing methods to ensure that the hidden\n   * property is added before any freezing happens.\n   * @param {string} name\n   */\n  function patch(name) {\n    var prev = Object[name];\n    if (prev) {\n      Object[name] = function(target) {\n        insert(target);\n        return prev(target);\n      };\n    }\n  }\n  patch('freeze');\n  patch('preventExtensions');\n  patch('seal');\n  // Note: no need to patch Reflect.preventExtensions since the polyfill\n  // just calls Object.preventExtensions anyway (and if it's not polyfilled\n  // then neither is WeakMap).\n\n  var index = 0;\n\n  /**\n   * Polyfill for WeakMap:\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap\n   *\n   * This implementation is as non-leaky as possible, due to patching\n   * the freezing and sealing operations.  It does not include any logic\n   * to handle cases where a key was somehow made non-extensible without\n   * the special hidden property being added.  It takes some care to ensure\n   * the hidden property is not enumerated over nor discoverable, though\n   * it's not completely secure (particularly in IE8).\n   *\n   * @constructor\n   * @extends {WeakMap<KEY, VALUE>}\n   * @template KEY, VALUE\n   * @param {!Iterator<!Array<KEY|VALUE>>|!Array<!Array<KEY|VALUE>>|null=}\n   *     opt_iterable Optional initial data.\n   */\n  var PolyfillWeakMap = function(opt_iterable) {\n    /** @private @const {string} */\n    this.id_ = (index += (Math.random() + 1)).toString();\n\n    if (opt_iterable) {\n      $jscomp.initSymbol();\n      $jscomp.initSymbolIterator();\n      var iter = $jscomp.makeIterator(opt_iterable);\n      var entry;\n      while (!(entry = iter.next()).done) {\n        var item = entry.value;\n        this.set(/** @type {KEY} */ (item[0]), /** @type {VALUE} */ (item[1]));\n      }\n    }\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.set = function(key, value) {\n    insert(key);\n    if (!$jscomp.owns(key, prop)) {\n      // NOTE: If the insert() call fails on the key, but the property\n      // has previously successfully been added higher up the prototype\n      // chain, then we'll silently misbehave.  Instead, throw immediately\n      // before doing something bad.  If this becomes a problem (e.g. due\n      // to some rogue frozen objects) then we may need to add a slow and\n      // leaky fallback array to each WeakMap instance, as well as extra\n      // logic in each accessor to use it (*only*) when necessary.\n      throw new Error('WeakMap key fail: ' + key);\n    }\n    key[prop][this.id_] = value;\n    return this;\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.get = function(key) {\n    return $jscomp.owns(key, prop) ? key[prop][this.id_] : undefined;\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.has = function(key) {\n    return $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_);\n  };\n\n  /** @override */\n  PolyfillWeakMap.prototype.delete = function(key) {\n    if (!$jscomp.owns(key, prop) ||\n        !$jscomp.owns(key[prop], this.id_)) {\n      return false;\n    }\n    return delete key[prop][this.id_];\n  };\n\n  return PolyfillWeakMap;\n}, 'es6', 'es3');\n","/*\n * Copyright 2016 The Closure Compiler Authors.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'require es6/conformance';\n'require es6/symbol';\n'require es6/util/makeiterator';\n'require es6/weakmap';\n'require util/defines';\n'require util/owns';\n'require util/polyfill';\n\n\n/**\n * Internal record type for entries.\n * @record\n * @template KEY, VALUE\n * @suppress {reportUnknownTypes}\n */\n$jscomp.MapEntry = function() {\n  /** @type {!$jscomp.MapEntry<KEY, VALUE>} */\n  this.previous;\n  /** @type {!$jscomp.MapEntry<KEY, VALUE>} */\n  this.next;\n  /** @type {?Object} */\n  this.head;\n  /** @type {KEY} */\n  this.key;\n  /** @type {VALUE} */\n  this.value;\n};\n\n\n$jscomp.polyfill('Map',\n    /**\n     * @param {*} NativeMap\n     * @return {*}\n     * @suppress {reportUnknownTypes}\n     */\n    function(NativeMap) {\n\n  /**\n   * Checks conformance of the existing Map.\n   * @return {boolean} True if the browser's implementation conforms.\n   * @suppress {missingProperties} \"entries\" unknown prototype\n   */\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_MAP ||\n        !NativeMap ||\n        typeof NativeMap != \"function\" ||\n        !NativeMap.prototype.entries ||\n        typeof Object.seal != 'function') {\n      return false;\n    }\n    // Some implementations don't support constructor arguments.\n    try {\n      NativeMap = /** @type {function(new: Map, !Iterator=)} */ (NativeMap);\n      var key = Object.seal({x: 4});\n      var map = new NativeMap($jscomp.makeIterator([[key, 's']]));\n      if (map.get(key) != 's' || map.size != 1 || map.get({x: 4}) ||\n          map.set({x: 4}, 't') != map || map.size != 2) {\n        return false;\n      }\n      var /** !Iterator<!Array> */ iter = map.entries();\n      var item = iter.next();\n      if (item.done || item.value[0] != key || item.value[1] != 's') {\n        return false;\n      }\n      item = iter.next();\n      if (item.done || item.value[0].x != 4 ||\n          item.value[1] != 't' || !iter.next().done) {\n        return false;\n      }\n      return true;\n    } catch (err) { // This should hopefully never happen, but let's be safe.\n      return false;\n    }\n  }\n\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeMap && $jscomp.ES6_CONFORMANCE) return NativeMap;\n  } else {\n    if (isConformant()) return NativeMap;\n  }\n\n  // We depend on Symbol.iterator, so ensure it's loaded.\n  $jscomp.initSymbol();\n  $jscomp.initSymbolIterator();\n\n\n  /** @const {!WeakMap<!Object, string>} */\n  var idMap = new WeakMap();\n\n\n  /**\n   * Polyfill for the global Map data type.\n   * @constructor\n   * @struct\n   * @extends {Map<KEY, VALUE>}\n   * @implements {Iterable<!Array<KEY|VALUE>>}\n   * @template KEY, VALUE\n   * @param {!Iterable<!Array<KEY|VALUE>>|!Array<!Array<KEY|VALUE>>|null=}\n   *     opt_iterable Optional data to populate the map.\n   */\n  // TODO(sdh): fix param type if heterogeneous arrays ever supported.\n  var PolyfillMap = function(opt_iterable) {\n    /** @private {!Object<!Array<!$jscomp.MapEntry<KEY, VALUE>>>} */\n    this.data_ = {};\n\n    /** @private {!$jscomp.MapEntry<KEY, VALUE>} */\n    this.head_ = createHead();\n\n    // Note: this property should not be changed.  If we're willing to give up\n    // ES3 support, we could define it as a property directly.  It should be\n    // marked readonly if such an annotation ever comes into existence.\n    /** @type {number} */\n    this.size = 0;\n\n    if (opt_iterable) {\n      var iter = $jscomp.makeIterator(opt_iterable);\n      var entry;\n      while (!(entry = iter.next()).done) {\n        var item =\n            /** @type {!IIterableResult<!Array<KEY|VALUE>>} */ (entry).value;\n        this.set(/** @type {KEY} */ (item[0]), /** @type {VALUE} */ (item[1]));\n      }\n    }\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.set = function(key, value) {\n    // normalize -0/+0 to +0\n    key = key === 0 ? 0 : key;\n    var r = maybeGetEntry(this, key);\n    if (!r.list) {\n      r.list = (this.data_[r.id] = []);\n    }\n    if (!r.entry) {\n      r.entry = {\n        next: this.head_,\n        previous: this.head_.previous,\n        head: this.head_,\n        key: key,\n        value: value,\n      };\n      r.list.push(r.entry);\n      this.head_.previous.next = r.entry;\n      this.head_.previous = r.entry;\n      this.size++;\n    } else {\n      r.entry.value = value;\n    }\n    return this;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.delete = function(key) {\n    var r = maybeGetEntry(this, key);\n    if (r.entry && r.list) {\n      r.list.splice(r.index, 1);\n      if (!r.list.length) delete this.data_[r.id];\n      r.entry.previous.next = r.entry.next;\n      r.entry.next.previous = r.entry.previous;\n      r.entry.head = null;\n      this.size--;\n      return true;\n    }\n    return false;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.clear = function() {\n    this.data_ = {};\n    this.head_ = this.head_.previous = createHead();\n    this.size = 0;\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.has = function(key) {\n    return !!(maybeGetEntry(this, key).entry);\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.get = function(key) {\n    var entry = maybeGetEntry(this, key).entry;\n    // NOTE: this cast is a lie, but so is the extern.\n    return /** @type {VALUE} */ (entry &&\n      /** @type {VALUE} */ (entry.value));\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.entries = function() {\n    return makeIterator(this, /** @return {!Array<(KEY|VALUE)>} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return ([entry.key, entry.value]);\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.keys = function() {\n    return makeIterator(this, /** @return {KEY} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return entry.key;\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.values = function() {\n    return makeIterator(this, /** @return {VALUE} */ function(\n        /** !$jscomp.MapEntry<KEY, VALUE> */ entry) {\n      return entry.value;\n    });\n  };\n\n\n  /** @override */\n  PolyfillMap.prototype.forEach = function(callback, opt_thisArg) {\n    var iter = this.entries();\n    var item;\n    while (!(item = iter.next()).done) {\n      var entry = item.value;\n      callback.call(\n          /** @type {?} */ (opt_thisArg),\n          /** @type {VALUE} */ (entry[1]),\n          /** @type {KEY} */ (entry[0]),\n          this);\n    }\n  };\n\n\n  /** @type {?} */ (PolyfillMap.prototype)[Symbol.iterator] =\n      PolyfillMap.prototype.entries;\n\n\n  /**\n   * Returns an entry or undefined.\n   * @param {!PolyfillMap<KEY, VALUE>} map\n   * @param {KEY} key\n   * @return {{id: string,\n   *           list: (!Array<!$jscomp.MapEntry<KEY, VALUE>>|undefined),\n   *           index: number,\n   *           entry: (!$jscomp.MapEntry<KEY, VALUE>|undefined)}}\n   * @template KEY, VALUE\n   */\n  var maybeGetEntry = function(map, key) {\n    var id = getId(key);\n    var list = map.data_[id];\n    if (list && $jscomp.owns(map.data_, id)) {\n      for (var index = 0; index < list.length; index++) {\n        var entry = list[index];\n        if ((key !== key && entry.key !== entry.key) || key === entry.key) {\n          return {id: id, list: list, index: index, entry: entry};\n        }\n      }\n    }\n    return {id: id, list: list, index: -1, entry: undefined};\n  };\n\n\n  /**\n   * Maps over the entries with the given function.\n   * @param {!PolyfillMap<KEY, VALUE>} map\n   * @param {function(!$jscomp.MapEntry<KEY, VALUE>): T} func\n   * @return {!IteratorIterable<T>}\n   * @template KEY, VALUE, T\n   * @private\n   */\n  var makeIterator = function(map, func) {\n    var entry = map.head_;\n    return $jscomp.iteratorPrototype(function() {\n      if (entry) {\n        while (entry.head != map.head_) {\n          entry = entry.previous;\n        }\n        while (entry.next != entry.head) {\n          entry = entry.next;\n          return {done: false, value: func(entry)};\n        }\n        entry = null; // make sure depletion is permanent\n      }\n      return {done: true, value: void 0};\n    });\n  };\n\n\n  /**\n   * Makes a new \"head\" element.\n   * @return {!$jscomp.MapEntry<KEY, VALUE>}\n   * @template KEY, VALUE\n   * @suppress {checkTypes} ignore missing key/value for head only\n   */\n  var createHead = function() {\n    var head = /** type {!$jscomp.MapEntry<KEY, VALUE>} */ ({});\n    head.previous = head.next = head.head = head;\n    return head;\n  };\n\n\n  /**\n   * Counter for generating IDs.\n   * @private {number}\n   */\n  var mapIndex = 0;\n\n\n  /**\n   * @param {*} obj An extensible object.\n   * @return {string} A unique ID.\n   */\n  var getId = function(obj) {\n    var type = obj && typeof obj;\n    if (type == 'object' || type == 'function') {\n      obj = /** @type {!Object} */ (obj);\n      if (!idMap.has(obj)) {\n        var id = '' + (++mapIndex);\n        idMap.set(obj, id);\n        return id;\n      }\n      return idMap.get(obj);\n    }\n    // Add a prefix since obj could be '__proto__';\n    return 'p_' + obj;\n  };\n\n\n  return PolyfillMap;\n}, 'es6', 'es3');\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\n/**\n * CSP Directive name controlling Trusted Types behavior.\n * @type {string}\n */\nexport const DIRECTIVE_NAME = 'trusted-types';\n\n/**\n * A configuration object for trusted type enforcement.\n */\nexport class TrustedTypeConfig {\n  /**\n   * @param {boolean} isLoggingEnabled If true enforcement wrappers will log\n   *   violations to the console.\n   * @param {boolean} isEnforcementEnabled If true enforcement is enabled at\n   *   runtime.\n   * @param {?string} fallbackPolicyName If present, direct DOM sink usage\n   *   will be passed through this policy (has to be exposed).\n   * @param {Array<string>} allowedPolicyNames Whitelisted policy names.\n   * @param {boolean=} allowHttpUrls if true, HTTP(s) urls will be transparently\n   *   treated like TrustedURLs. Applied only if enforcement or logging is\n   *   enabled.\n   * @param {?string} cspString String with the CSP policy.\n   */\n  constructor(isLoggingEnabled,\n      isEnforcementEnabled,\n      fallbackPolicyName,\n      allowedPolicyNames,\n      allowHttpUrls = false,\n      cspString = null) {\n    /**\n      * True if logging is enabled.\n      * @type {boolean}\n      */\n    this.isLoggingEnabled = isLoggingEnabled;\n\n    /**\n      * True if enforcement is enabled.\n      * @type {boolean}\n      */\n    this.isEnforcementEnabled = isEnforcementEnabled;\n\n    /**\n     * Fallback policy name\n     * @type {?string}\n     */\n    this.fallbackPolicyName = fallbackPolicyName;\n\n    /**\n     * Allowed policy names.\n     * @type {Array<string>}\n     */\n    this.allowedPolicyNames = allowedPolicyNames;\n\n    /**\n     * True if http(s) URLs should be implicitly treated as TrustedURLs.\n     * @type {boolean}\n     */\n    this.allowHttpUrls = allowHttpUrls;\n\n    /**\n     * CSP string that defined the policy.\n     * @type {?string}\n     */\n    this.cspString = cspString;\n  }\n\n  /**\n   * Parses a CSP policy.\n   * @link https://www.w3.org/TR/CSP3/#parse-serialized-policy\n   * @param  {string} cspString String with a CSP definition.\n   * @return {Object<string,Array<string>>} Parsed CSP, keyed by directive\n   *   names.\n   */\n  static parseCSP(cspString) {\n    const SEMICOLON = /\\s*;\\s*/;\n    const WHITESPACE = /\\s+/;\n    return cspString.trim().split(SEMICOLON)\n        .map((serializedDirective) => serializedDirective.split(WHITESPACE))\n        .reduce(function(parsed, directive) {\n          if (directive[0]) {\n            parsed[directive[0]] = directive.slice(1).map((s) => s).sort();\n          }\n          return parsed;\n        }, {});\n  }\n\n  /**\n   * Creates a TrustedTypeConfig object from a CSP string.\n   * @param  {string} cspString\n   * @return {!TrustedTypeConfig}\n   */\n  static fromCSP(cspString) {\n    const isLoggingEnabled = true;\n    const policy = TrustedTypeConfig.parseCSP(cspString);\n    const enforce = DIRECTIVE_NAME in policy;\n    let allowHttpUrls = false;\n    let policies = ['*'];\n    if (enforce) {\n      allowHttpUrls = policy[DIRECTIVE_NAME]\n          .indexOf('\\'url-allow-http\\'') !== -1;\n      policies = policy[DIRECTIVE_NAME].filter((p) => p.charAt(0) !== '\\'');\n    }\n\n    return new TrustedTypeConfig(\n      isLoggingEnabled,\n      enforce, /* isEnforcementEnabled */\n      null, /* fallbackPolicyName */\n      policies, /* allowedPolicyNames */\n      allowHttpUrls,\n      cspString\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\n/**\n * @fileoverview Entry point for a polyfill that enforces the types.\n */\nimport {TrustedTypesEnforcer} from '../enforcer.js';\nimport {TrustedTypeConfig} from '../data/trustedtypeconfig.js';\n/* eslint-disable no-unused-vars */\nimport TrustedTypes from './api_only.js';\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Tries to guess a CSP policy from:\n *  - the current polyfill script element text content (if prefixed with\n *    \"Content-Security-Policy:\")\n *  - the data-csp attribute value of the current script element.\n *  - meta header\n * @return {?string} Guessed CSP value, or null.\n */\nfunction detectPolicy() {\n    try {\n        const currentScript = document.currentScript || (function() {\n          let scripts = document.getElementsByTagName('script');\n          return scripts[scripts.length - 1];\n        })();\n\n        const bodyPrefix = 'Content-Security-Policy:';\n        if (currentScript &&\n            currentScript.textContent.trim().substr(0, bodyPrefix.length) ==\n                bodyPrefix) {\n            return currentScript.textContent.trim().slice(bodyPrefix.length);\n        }\n        if (currentScript.dataset['csp']) {\n            return currentScript.dataset['csp'];\n        }\n        const cspInMeta = document.head.querySelector(\n            'meta[http-equiv^=\"Content-Security-Policy\"]');\n        if (cspInMeta) {\n            return cspInMeta['content'].trim();\n        }\n    } catch (e) {\n        return null;\n    }\n    return null;\n}\n\n/**\n * Bootstraps all trusted types polyfill and their enforcement.\n */\nexport function bootstrap() {\n  const csp = detectPolicy();\n  const config = csp ? TrustedTypeConfig.fromCSP(csp) : new TrustedTypeConfig(\n    /* isLoggingEnabled */ false,\n    /* isEnforcementEnabled */ false,\n    /* fallbackPolicyName */ null,\n    /* allowedPolicyNames */ ['*']);\n\n  const trustedTypesEnforcer = new TrustedTypesEnforcer(config);\n\n  trustedTypesEnforcer.install();\n}\n\n// Bootstrap only if native implementation is missing.\nif (!(window['TrustedTypePolicyFactory'] instanceof Function)) {\n    bootstrap();\n}\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {TrustedTypesPolicy}\n * @property {function(string):TrustedHTML} createHTML\n * @property {function(string):TrustedURL} createURL\n * @property {function(string):TrustedScriptURL} createScriptURL\n * @property {function(string):TrustedScript} createScript\n */\nlet TrustedTypesPolicy = {};\n\n/**\n * @typedef {TrustedTypesInnerPolicy}\n * @property {function(string):string} createHTML\n * @property {function(string):string} createURL\n * @property {function(string):string} createScriptURL\n * @property {function(string):string} createScript\n */\nlet TrustedTypesInnerPolicy = {};\n/* eslint-enable no-unused-vars */\n\n\nexport const trustedTypesBuilderTestOnly = function() {\n  // Capture common names early.\n  const {\n    create, defineProperty, freeze, getOwnPropertyNames,\n    getPrototypeOf, prototype: ObjectPrototype,\n  } = Object;\n\n  const {\n    forEach, push,\n  } = Array.prototype;\n\n  const creatorSymbol = Symbol();\n\n  /**\n   * Getter for the privateMap.\n   * @param  {Object} obj Key of the privateMap\n   * @return {Object<string, string>} Private storage.\n   */\n  const privates = function(obj) {\n    let v = privateMap.get(obj);\n    if (v === undefined) {\n      v = create(null); // initialize the private storage.\n      privateMap.set(obj, v);\n    }\n    return v;\n  };\n\n  /**\n   * Called before attacker-controlled code on an internal collections,\n   * copies prototype members onto the instance directly, so that later\n   * changes to prototypes cannot expose collection internals.\n   * @param {!T} collection\n   * @return {!T} collection\n   * @template T\n   */\n  function selfContained(collection) {\n    const proto = getPrototypeOf(collection);\n    if (proto == null || getPrototypeOf(proto) !== ObjectPrototype) {\n      throw new Error(); // Loop below is insufficient.\n    }\n    for (let key of getOwnPropertyNames(proto)) {\n      defineProperty(collection, key, {value: collection[key]});\n    }\n    return collection;\n  }\n\n  /**\n   * Map for private properties of Trusted Types object.\n   * This is so that the access to the type constructor does not give\n   * the ability to create typed values.\n   * @type {WeakMap}\n   */\n  const privateMap = selfContained(new WeakMap());\n\n  /**\n   * List of all configured policy names.\n   * @type {Array<string>}\n   */\n  const policyNames = selfContained([]);\n\n  /**\n   * Map of all exposed policies, keyed by policy name.\n   * @type {Map<string,Object>}\n   */\n  const exposedPolicies = selfContained(new Map());\n\n  /**\n   * Allowed policy namess for policy names.\n   * @type {Array<string>}\n   */\n  const allowedNames = selfContained([]);\n\n  /**\n   * Whether to enforce allowedNames in createPolicy().\n   * @type {boolean}\n   */\n  let enforceNameWhitelist = false;\n\n\n  /**\n   * A value that is trusted to have certain security-relevant properties\n   * because the sources of such values are controlled.\n   */\n  class TrustedType {\n    /**\n     * Constructor for TrustedType. Only allowed to be called from within a\n     * policy.\n     * @param {symbol} s creatorSymbol\n     * @param {string} policyName The name of the policy this object was\n     *   created by.\n     */\n    constructor(s, policyName) {\n      // TODO: Figure out if symbol is needed, if the value is in privateMap.\n      if (s !== creatorSymbol) {\n        throw new Error('cannot call the constructor');\n      }\n      defineProperty(this, 'policyName',\n                     {value: '' + policyName, enumerable: true});\n    }\n\n    /**\n     * Returns the wrapped string value of the object.\n     * @return {string}\n     * @override\n     */\n    toString() {\n      return privates(this)['v'];\n    }\n\n    /**\n     * Returns the wrapped string value of the object.\n     * @return {string}\n     * @override\n     */\n    valueOf() {\n      return privates(this)['v'];\n    }\n  }\n\n  /**\n   * @param {function(new:TrustedType, symbol, string)} SubClass\n   * @param {string} canonName The class name which should be independent of\n   *     any renaming pass and which is relied upon by the enforcer and for\n   *     native type interop.\n   */\n  function lockdownTrustedType(SubClass, canonName) {\n    freeze(SubClass.prototype);\n    delete SubClass.name;\n    defineProperty(SubClass, 'name', {value: canonName});\n  }\n\n  /**\n   * Trusted URL object wrapping a string that can only be created from a\n   * TT policy.\n   */\n  class TrustedURL extends TrustedType {\n  }\n  lockdownTrustedType(TrustedURL, 'TrustedURL');\n\n  /**\n   * Trusted Script URL object wrapping a string that can only be created from a\n   * TT policy.\n   * TrustedScriptURL inherits from TrustedURL.\n   */\n  class TrustedScriptURL extends TrustedURL {\n  }\n  lockdownTrustedType(TrustedScriptURL, 'TrustedScriptURL');\n\n  /**\n   * Trusted HTML object wrapping a string that can only be created from a\n   * TT policy.\n   */\n  class TrustedHTML extends TrustedType {\n  }\n  lockdownTrustedType(TrustedHTML, 'TrustedHTML');\n\n  /**\n   * Trusted Script object wrapping a string that can only be created from a\n   * TT policy.\n   */\n  class TrustedScript extends TrustedType {\n  }\n  lockdownTrustedType(TrustedScript, 'TrustedScript');\n\n  lockdownTrustedType(TrustedType, 'TrustedType');\n\n  /**\n   * @type {!Object<string,!Function>}\n   */\n  const createTypeMapping = {\n    'createHTML': TrustedHTML,\n    'createScriptURL': TrustedScriptURL,\n    'createURL': TrustedURL,\n    'createScript': TrustedScript,\n  };\n\n  const createFunctionAllowed = createTypeMapping.hasOwnProperty;\n\n  /**\n   * Function generating a type checker.\n   * @template T\n   * @param  {T} type The type to check against.\n   * @return {function(*):boolean}\n   */\n  function isTrustedTypeChecker(type) {\n    return (obj) => (obj instanceof type) && privateMap.has(obj);\n  }\n\n  const rejectInputFn = (s) => {\n throw new TypeError('undefined conversion');\n};\n\n  /**\n   * Wraps a user-defined policy rules with TT constructor\n   * @param  {string} policyName The policy name\n   * @param  {TrustedTypesInnerPolicy} innerPolicy InnerPolicy\n   * @return {!TrustedTypesPolicy} Frozen policy object\n   */\n  function wrapPolicy(policyName, innerPolicy) {\n    /**\n     * @template T\n     * @param {function(new:T, symbol, string)} Ctor a trusted type constructor\n     * @param {string} methodName the policy factory method name\n     * @return {function(string):!T} a factory that produces instances of Ctor.\n     */\n    function creator(Ctor, methodName) {\n      // This causes thisValue to be null when called below.\n      const method = innerPolicy[methodName] || rejectInputFn;\n      const policySpecificType = freeze(new Ctor(creatorSymbol, policyName));\n      const factory = {\n        [methodName](s) { // Trick to get methodName to show in stacktrace.\n          let result = method(s);\n          if (result === undefined || result === null) {\n            result = '';\n          }\n          const allowedValue = '' + result;\n          const o = freeze(create(policySpecificType));\n          privates(o)['v'] = allowedValue;\n          return o;\n        },\n      }[methodName];\n      return freeze(factory);\n    }\n\n    let policy = create(null);\n\n    for (const name of getOwnPropertyNames(createTypeMapping)) {\n      policy[name] = creator(createTypeMapping[name], name);\n    }\n    policy.name = policyName;\n\n    return freeze(policy);\n  }\n\n  /**\n   * Returns a policy object, if given policy was exposed.\n   * @param  {string} name\n   * @return {?TrustedTypesPolicy}\n   */\n  function getExposedPolicy(name) {\n    const pName = '' + name;\n    return exposedPolicies.get(pName) || null;\n  }\n\n  /**\n   * Returns all configured policy names (even for non-exposed policies).\n   * @return {!Array<string>}\n   */\n  function getPolicyNames() {\n    // TODO(msamuel): Should we sort policyNames to avoid leaking or\n    // encouraging dependency on the order in which policy names are\n    // registered?  I think JavaScript builtin sorts are efficient for\n    // almost-sorted lists so the amortized cost is close to O(n).\n    return policyNames.slice();\n  }\n\n  /**\n   * Creates a TT policy.\n   *\n   * Returns a frozen object representing a policy - a collection of functions\n   * that may create TT objects based on the user-provided rules specified\n   * in the policy object.\n   *\n   * @param  {string} name A unique name of the policy.\n   * @param  {TrustedTypesInnerPolicy} policy Policy rules object.\n   * @param  {boolean=} expose Iff true, the policy will be exposed (available\n   *   globally).\n   * @return {TrustedTypesPolicy} The policy that may create TT objects\n   *   according to the policy rules.\n   * @todo Figure out if the return value (and the policy) can be typed.\n   */\n  function createPolicy(name, policy, expose = false) {\n    const pName = '' + name; // Assert it's a string\n\n    if (enforceNameWhitelist && allowedNames.indexOf(pName) === -1) {\n      throw new TypeError('Policy ' + pName + ' disallowed.');\n    }\n\n    if (policyNames.indexOf(pName) !== -1) {\n      throw new TypeError('Policy ' + pName + ' exists.');\n    }\n    // Register the name early so that if policy getters unwisely calls\n    // across protection domains to code that reenters this function,\n    // policy author still has rights to the name.\n    policyNames.push(pName);\n\n    // Only copy own properties of names present in createTypeMapping.\n    const innerPolicy = create(null);\n    if (policy && typeof policy === 'object') {\n      // Treat non-objects as empty policies.\n      for (const key of getOwnPropertyNames(policy)) {\n        if (createFunctionAllowed.call(createTypeMapping, key)) {\n          innerPolicy[key] = policy[key];\n        }\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.warn('TrustedTypes.createPolicy ' + pName +\n          ' was given an empty policy');\n    }\n    freeze(innerPolicy);\n\n    const wrappedPolicy = wrapPolicy(pName, innerPolicy);\n\n    if (expose) {\n      exposedPolicies.set(pName, wrappedPolicy);\n    }\n\n    return wrappedPolicy;\n  }\n\n  /**\n   * Applies the policy name whitelist.\n   * @param {!Array<string>} allowedPolicyNames\n   */\n  function setAllowedPolicyNames(allowedPolicyNames) {\n    if (allowedPolicyNames.indexOf('*') !== -1) { // Any policy name is allowed.\n      enforceNameWhitelist = false;\n    } else {\n      enforceNameWhitelist = true;\n      allowedNames.length = 0;\n      forEach.call(allowedPolicyNames, (el) => {\n        push.call(allowedNames, '' + el);\n      });\n    }\n  }\n\n  // TODO: Figure out if it's safe to return an instance of a typed object\n  // to make testing easier.\n  return freeze({\n\n    // Types definition, for convenience of instanceof checks\n    TrustedHTML,\n    TrustedURL,\n    TrustedScriptURL,\n    TrustedScript,\n\n    // The main function to create policies.\n    createPolicy,\n\n    // Policy getter\n    getExposedPolicy,\n\n    getPolicyNames,\n\n    // Below methods are not part of the public API and are only needed in the\n    // polyfill.\n\n    // Type checkers, also validating the object was initialized through a\n    // policy.\n    isHTML: isTrustedTypeChecker(TrustedHTML),\n    isURL: isTrustedTypeChecker(TrustedURL),\n    isScriptURL: isTrustedTypeChecker(TrustedScriptURL),\n    isScript: isTrustedTypeChecker(TrustedScript),\n\n    setAllowedPolicyNames,\n  });\n};\n\nexport const TrustedTypes = trustedTypesBuilderTestOnly();\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\nconst {\n  defineProperty,\n} = Object;\n\n/**\n * Installs the setter of a given property.\n * @param {!Object} object An object for which to wrap the property.\n * @param {string} name The name of the property to wrap.\n * @param {function(*): *|undefined} setter A setter function}\n */\nexport function installSetter(object, name, setter) {\n  const descriptor = {\n    set: setter,\n  };\n  defineProperty(object, name, descriptor);\n}\n\n/**\n * Installs a setter and getter of a given property.\n * @param {!Object} object An object for which to wrap the property.\n * @param {string} name The name of the property to wrap.\n * @param {function(*): *|undefined} setter A setter function}\n * @param {function(*): *|undefined} getter A getter function}\n */\nexport function installSetterAndGetter(object, name, setter, getter) {\n  const descriptor = {\n    set: setter,\n    get: getter,\n    configurable: true, // This can get uninstalled, we need configurable: true\n  };\n  defineProperty(object, name, descriptor);\n}\n\n/**\n * Installs the setter of a given property.\n * @param {!Object} object An object for which to wrap the property.\n * @param {string} name The name of the property to wrap.\n * @param {function(*): *|undefined} fn A function}\n */\nexport function installFunction(object, name, fn) {\n  defineProperty(object, name, {\n    value: fn,\n  });\n}\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\n/* eslint-disable no-unused-vars */\nimport {DIRECTIVE_NAME, TrustedTypeConfig} from './data/trustedtypeconfig.js';\nimport {TrustedTypes} from './trustedtypes.js';\n\n/* eslint-enable no-unused-vars */\nimport {installFunction, installSetter, installSetterAndGetter}\n  from './utils/wrapper.js';\n\nconst {apply} = Reflect;\nconst {\n  getOwnPropertyNames,\n  getOwnPropertyDescriptor,\n  hasOwnProperty,\n  getPrototypeOf,\n  isPrototypeOf,\n} = Object;\n\nconst {slice} = String.prototype;\n\nconst UrlConstructor = URL.prototype.constructor;\n\n// This is not available in release Firefox :(\n// https://developer.mozilla.org/en-US/docs/Web/API/SecurityPolicyViolationEvent\n// https://bugzilla.mozilla.org/show_bug.cgi?id=1432523\nconst SecurityPolicyViolationEvent = window['SecurityPolicyViolationEvent'] ||\n  null;\n\n/**\n * Parses URL, catching all the errors.\n * @param  {string} url URL string to parse.\n * @return {URL|null}\n */\nfunction parseUrl_(url) {\n  try {\n    return new UrlConstructor(url, document.baseURI || undefined);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Checks if the URL is a HTTP(s) URL.\n * @param  {string}  url The URL to check.\n * @return {boolean} True iff the value is a http(s) URL.\n */\nfunction isHttpUrl_(url) {\n  const parsedUrl = parseUrl_(url);\n  if (!parsedUrl) {\n    return false;\n  }\n  return parsedUrl.protocol == 'http:' || parsedUrl.protocol == 'https:';\n}\n\n/**\n * A map of attribute names to allowed types.\n * @type {!Object<string, !Object<string, !Function>>}\n */\nlet SET_ATTRIBUTE_TYPE_MAP = {\n  // TODO(slekies): Add SVG Elements here\n  // TODO(koto): Figure out what to to with <link>\n  'HTMLAnchorElement': {\n    'href': TrustedTypes.TrustedURL,\n  },\n  'HTMLAreaElement': {\n    'href': TrustedTypes.TrustedURL,\n  },\n  'HTMLBaseElement': {\n    'href': TrustedTypes.TrustedURL,\n  },\n  'HTMLButtonElement': {\n    'formaction': TrustedTypes.TrustedURL,\n  },\n  'HTMLSourceElement': {\n    'src': TrustedTypes.TrustedURL,\n  },\n  'HTMLImageElement': {\n    'src': TrustedTypes.TrustedURL,\n    // TODO(slekies): add special handling for srcset\n  },\n  'HTMLTrackElement': {\n    'src': TrustedTypes.TrustedURL,\n  },\n  'HTMLMediaElement': {\n    'src': TrustedTypes.TrustedURL,\n  },\n  'HTMLInputElement': {\n    'src': TrustedTypes.TrustedURL,\n    'formaction': TrustedTypes.TrustedURL,\n  },\n  'HTMLFrameElement': {\n    'src': TrustedTypes.TrustedURL,\n  },\n  'HTMLIFrameElement': {\n    'src': TrustedTypes.TrustedURL,\n    'srcdoc': TrustedTypes.TrustedHTML,\n  },\n  'HTMLLinkElement': {\n    'href': TrustedTypes.TrustedScriptURL,\n  },\n  'HTMLObjectElement': {\n    'data': TrustedTypes.TrustedScriptURL,\n    'codebase': TrustedTypes.TrustedScriptURL,\n  },\n  'HTMLEmbedElement': {\n    'src': TrustedTypes.TrustedScriptURL,\n  },\n  'HTMLScriptElement': {\n    'src': TrustedTypes.TrustedScriptURL,\n    'text': TrustedTypes.TrustedScript,\n  },\n  'HTMLElement': {\n  },\n};\n\n// Add inline event handlers property names.\nfor (let name of getOwnPropertyNames(HTMLElement.prototype)) {\n  if (name.slice(0, 2) === 'on') {\n    SET_ATTRIBUTE_TYPE_MAP['HTMLElement'][name] = TrustedTypes.TrustedScript;\n  }\n}\n\n/**\n * Map of type names to type checking function.\n * @type {!Object<string,!Function>}\n */\nconst TYPE_CHECKER_MAP = {\n  'TrustedHTML': TrustedTypes.isHTML,\n  'TrustedURL': TrustedTypes.isURL,\n  'TrustedScriptURL': TrustedTypes.isScriptURL,\n  'TrustedScript': TrustedTypes.isScript,\n};\n\n/**\n * Map of type names to type producing function.\n * @type {Object<string,string>}\n */\nconst TYPE_PRODUCER_MAP = {\n  'TrustedHTML': 'createHTML',\n  'TrustedURL': 'createURL',\n  'TrustedScriptURL': 'createScriptURL',\n  'TrustedScript': 'createScript',\n};\n\n/**\n * @type {function(string):?TrustedTypesPolicy}\n */\nconst getExposedPolicy = TrustedTypes.getExposedPolicy;\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {TrustedTypesPolicy}\n * @property {function(string):TrustedHTML} createHTML\n * @property {function(string):TrustedURL} createURL\n * @property {function(string):TrustedScriptURL} createScriptURL\n * @property {function(string):TrustedScript} createScript\n */\nlet TrustedTypesPolicy = {};\n/* eslint-enable no-unused-vars */\n\n/**\n * A map of HTML attribute to element property names.\n * @type {!Object<string, string>}\n */\nconst ATTR_PROPERTY_MAP = {\n  'codebase': 'codeBase',\n  'formaction': 'formAction',\n};\n\n/**\n * An object for enabling trusted type enforcement.\n */\nexport class TrustedTypesEnforcer {\n  /**\n   * @param {!TrustedTypeConfig} config The configuration for\n   * trusted type enforcement.\n   */\n  constructor(config) {\n    /**\n     * A configuration for the trusted type enforcement.\n     * @private {!TrustedTypeConfig}\n     */\n    this.config_ = config;\n    /**\n     * @private {Object<string, function(*): *|undefined>}\n     */\n    this.originalSetters_ = {};\n  }\n\n  /**\n   * Wraps HTML sinks with an enforcement setter, which will enforce\n   * trusted types and do logging, if enabled.\n   *\n   */\n  install() {\n    TrustedTypes.setAllowedPolicyNames(this.config_.allowedPolicyNames);\n\n    if (!this.config_.isEnforcementEnabled && !this.config_.isLoggingEnabled) {\n      return;\n    }\n\n    this.wrapSetter_(Element.prototype, 'innerHTML', TrustedTypes.TrustedHTML);\n    this.wrapSetter_(Element.prototype, 'outerHTML', TrustedTypes.TrustedHTML);\n    this.wrapWithEnforceFunction_(Range.prototype, 'createContextualFragment',\n        TrustedTypes.TrustedHTML, 0);\n    this.wrapWithEnforceFunction_(Element.prototype, 'insertAdjacentHTML',\n        TrustedTypes.TrustedHTML, 1);\n\n    if (getOwnPropertyDescriptor(Document.prototype, 'write')) {\n      // Chrome\n      this.wrapWithEnforceFunction_(Document.prototype, 'write',\n          TrustedTypes.TrustedHTML, 0);\n      this.wrapWithEnforceFunction_(Document.prototype, 'open',\n          TrustedTypes.TrustedURL, 0);\n    } else {\n      // Firefox\n      this.wrapWithEnforceFunction_(HTMLDocument.prototype, 'write',\n        TrustedTypes.TrustedHTML, 0);\n      this.wrapWithEnforceFunction_(HTMLDocument.prototype, 'open',\n          TrustedTypes.TrustedURL, 0);\n    }\n\n    this.wrapWithEnforceFunction_(window, 'open', TrustedTypes.TrustedURL, 0);\n    if (DOMParser) {\n      this.wrapWithEnforceFunction_(DOMParser.prototype, 'parseFromString',\n          TrustedTypes.TrustedHTML, 0);\n    }\n    this.wrapSetAttribute_();\n    this.installScriptWrappers_();\n    this.installPropertySetWrappers_();\n  }\n\n  /**\n   * Removes the original setters.\n   */\n  uninstall() {\n    TrustedTypes.setAllowedPolicyNames(['*']);\n\n    if (!this.config_.isEnforcementEnabled && !this.config_.isLoggingEnabled) {\n      return;\n    }\n\n    this.restoreSetter_(Element.prototype, 'innerHTML');\n    this.restoreSetter_(Element.prototype, 'outerHTML');\n    this.restoreFunction_(Range.prototype, 'createContextualFragment');\n    this.restoreFunction_(Element.prototype, 'insertAdjacentHTML');\n    this.restoreFunction_(Element.prototype, 'setAttribute');\n    this.restoreFunction_(Element.prototype, 'setAttributeNS');\n\n    if (getOwnPropertyDescriptor(Document.prototype, 'write')) {\n      this.restoreFunction_(Document.prototype, 'write');\n      this.restoreFunction_(Document.prototype, 'open');\n    } else {\n      this.restoreFunction_(HTMLDocument.prototype, 'write');\n      this.restoreFunction_(HTMLDocument.prototype, 'open');\n    }\n    this.restoreFunction_(window, 'open');\n    if (DOMParser) {\n      this.restoreFunction_(DOMParser.prototype, 'parseFromString');\n    }\n    this.uninstallPropertySetWrappers_();\n    this.uninstallScriptWrappers_();\n  }\n\n  /**\n   * Installs wrappers for setting properties of script elements.\n   */\n  installScriptWrappers_() {\n    // HTMLScript element has no own setters for crucial properties, we have to\n    // reuse ones from HTMLElement.\n    this.wrapSetter_(HTMLScriptElement.prototype, 'innerText',\n        TrustedTypes.TrustedScript, HTMLElement.prototype);\n    this.wrapSetter_(HTMLScriptElement.prototype, 'textContent',\n        TrustedTypes.TrustedScript, Node.prototype);\n  }\n\n  /**\n   * Uninstalls wrappers for setting properties of script elements.\n   */\n  uninstallScriptWrappers_() {\n    this.restoreSetter_(HTMLScriptElement.prototype, 'innerText',\n        HTMLElement.prototype);\n    this.restoreSetter_(HTMLScriptElement.prototype, 'textContent',\n        Node.prototype);\n  }\n\n  /**\n   * Installs wrappers for directly setting properties\n   * based on SET_ATTRIBUTE_TYPE_MAP.\n   * @private\n   */\n  installPropertySetWrappers_() {\n    /* eslint-disable guard-for-in */\n    for (let type of getOwnPropertyNames(SET_ATTRIBUTE_TYPE_MAP)) {\n      for (let attribute of getOwnPropertyNames(SET_ATTRIBUTE_TYPE_MAP[type])) {\n        const property = apply(hasOwnProperty, ATTR_PROPERTY_MAP, [attribute]) ?\n              ATTR_PROPERTY_MAP[attribute] : attribute;\n        this.wrapSetter_(window[type].prototype, property,\n                         SET_ATTRIBUTE_TYPE_MAP[type][attribute]);\n      }\n    }\n  }\n\n  /**\n   * Uninstalls wrappers for directly setting properties\n   * based on SET_ATTRIBUTE_TYPE_MAP.\n   * @private\n   */\n  uninstallPropertySetWrappers_() {\n    /* eslint-disable guard-for-in */\n    for (let type of getOwnPropertyNames(SET_ATTRIBUTE_TYPE_MAP)) {\n      for (let attribute of getOwnPropertyNames(SET_ATTRIBUTE_TYPE_MAP[type])) {\n        const property = attribute in ATTR_PROPERTY_MAP ?\n              ATTR_PROPERTY_MAP[attribute] : attribute;\n        this.restoreSetter_(window[type].prototype, property);\n      }\n    }\n  }\n\n  /** Wraps set attribute with an enforcement function. */\n  wrapSetAttribute_() {\n    let that = this;\n    this.wrapFunction_(\n        Element.prototype,\n        'setAttribute',\n        /**\n         * @this {TrustedTypesEnforcer}\n         * @param {function(!Function, ...*)} originalFn\n         * @return {*}\n         */\n        function(originalFn, ...args) {\n          return that.setAttributeWrapper_\n              .bind(that, this, originalFn)\n              .apply(that, args);\n        });\n    this.wrapFunction_(\n      Element.prototype,\n      'setAttributeNS',\n      /**\n         * @this {TrustedTypesEnforcer}\n         * @param {function(!Function, ...*)} originalFn\n         * @return {*}\n         */\n        function(originalFn, ...args) {\n          return that.setAttributeNSWrapper_\n              .bind(that, this, originalFn)\n              .apply(that, args);\n        });\n  }\n\n  /**\n   * Returns the required type for the setAtrtibute call.\n   * @param  {!Object} context The object to infer the type of attribute of.\n   * @param  {string} attrName The attribute name.\n   * @return {Function} The type to enforce, or null if no contract is found.\n   */\n  getRequiredTypeForAttribute_(context, attrName) {\n      let ctor = context.constructor;\n      do {\n        let type = ctor && ctor.name &&\n            SET_ATTRIBUTE_TYPE_MAP[ctor.name] &&\n            SET_ATTRIBUTE_TYPE_MAP[ctor.name][attrName];\n\n        if (type || ctor == HTMLElement) {\n          // Stop at HTMLElement.\n          return type;\n        }\n        // Explore the prototype chain.\n      } while (ctor = getPrototypeOf(ctor));\n\n      return null;\n  }\n\n  /**\n   * Enforces type checking for Element.prototype.setAttribute.\n   * @param {!Object} context The context for the call to the original function.\n   * @param {!Function} originalFn The original setAttribute function.\n   * @return {*}\n   */\n  setAttributeWrapper_(context, originalFn, ...args) {\n    // Note(slekies): In a normal application constructor should never be null.\n    // However, there are no guarantees. If the constructor is null, we cannot\n    // determine whether a special type is required. In order to not break the\n    // application, we will not do any further type checks and pass the call\n    // to setAttribute.\n    if (context.constructor !== null) {\n      let attrName = (args[0] = String(args[0])).toLowerCase();\n      let type = this.getRequiredTypeForAttribute_(context, attrName);\n\n      if (type instanceof Function) {\n        return this.enforce_(\n          context, 'setAttribute', type, originalFn, 1, args);\n      }\n    }\n\n    return originalFn.apply(context, args);\n  }\n\n  /**\n   * Enforces type checking for Element.prototype.setAttributeNS.\n   * @param {!Object} context The context for the call to the original function.\n   * @param {!Function} originalFn The original setAttributeNS function.\n   * @return {*}\n   */\n  setAttributeNSWrapper_(context, originalFn, ...args) {\n    /**\n     * @param {string} ns the namespace URL.\n     * @return {boolean} true iff the given argument is an HTML namespace.\n     */\n    function isHtmlNamespace(ns) {\n      return true; // TODO(msamuel): implement me\n    }\n    // See the note from setAttributeWrapper_ above.\n    if (context.constructor !== null) {\n      let ns = (args[0] = String(args[0])).toLowerCase();\n      let attrName = (args[1] = String(args[1])).toLowerCase();\n      if (isHtmlNamespace(ns)) {\n        let type = context.constructor && context.constructor.name &&\n            SET_ATTRIBUTE_TYPE_MAP[context.constructor.name] &&\n            SET_ATTRIBUTE_TYPE_MAP[context.constructor.name][attrName];\n\n        if (type instanceof Function) {\n          return this.enforce_(\n            context, 'setAttributeNS', type, originalFn, 2, args);\n        }\n      }\n      // TODO(msamuel): handle SVG namespace.  See TODO(slekies) above.\n    }\n\n    return originalFn.apply(context, args);\n  }\n\n\n  /**\n   * Wraps a setter with the enforcement wrapper.\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @param {!Function} type The type to enforce.\n   * @param {number} argNumber Number of the argument to enforce the type of.\n   * @private\n   */\n  wrapWithEnforceFunction_(object, name, type, argNumber) {\n    let that = this;\n    this.wrapFunction_(\n        object,\n        name,\n        /**\n         * @this {TrustedTypesEnforcer}\n         * @param {function(!Function, ...*)} originalFn\n         * @return {*}\n         */\n        function(originalFn, ...args) {\n          return that.enforce_.call(that, this, name, type, originalFn,\n                                    argNumber, args);\n        });\n  }\n\n\n  /**\n   * Wraps an existing function with a given function body and stores the\n   * original function.\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @param {function(!Function, ...*)} functionBody The wrapper function.\n   */\n  wrapFunction_(object, name, functionBody) {\n    let descriptor = getOwnPropertyDescriptor(object, name);\n    let originalFn = /** @type function(*):* */ (\n        descriptor ? descriptor.value : null);\n\n    if (!(originalFn instanceof Function)) {\n      throw new TypeError(\n          'Property ' + name + ' on object' + object + ' is not a function');\n    }\n\n    let key = this.getKey_(object, name);\n    if (this.originalSetters_[key]) {\n      throw new Error('TrustedTypesEnforcer: Double installation detected');\n    }\n    installFunction(\n        object,\n        name,\n        /**\n         * @this {TrustedTypesEnforcer}\n         * @return {*}\n         */\n        function(...args) {\n          return functionBody.bind(this, originalFn).apply(this, args);\n        });\n    this.originalSetters_[key] = originalFn;\n  }\n\n  /**\n   * Wraps a setter with the enforcement wrapper.\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @param {!Function} type The type to enforce.\n   * @param {!Object=} descriptorObject If present, will reuse the\n   *   setter/getter from this one, instead of object. Used for redefining\n   *   setters in subclasses.\n   * @private\n   */\n  wrapSetter_(object, name, type, descriptorObject = undefined) {\n    if (descriptorObject && !isPrototypeOf.call(descriptorObject, object)) {\n      throw new Error('Invalid prototype chain');\n    }\n\n    let useObject = descriptorObject || object;\n\n    let descriptor = getOwnPropertyDescriptor(useObject, name);\n\n    let originalSetter = /** @type {function(*):*} */ (descriptor ?\n        descriptor.set : null);\n\n    if (!(originalSetter instanceof Function)) {\n      throw new TypeError(\n          'No setter for property ' + name + ' on object' + object);\n    }\n\n    let key = this.getKey_(object, name);\n    if (this.originalSetters_[key]) {\n      throw new Error('TrustedTypesEnforcer: Double installation detected');\n    }\n    let that = this;\n    /**\n     * @this {TrustedTypesEnforcer}\n     * @param {*} value\n     */\n    let enforcingSetter = function(value) {\n          that.enforce_.call(that, this, name, type, originalSetter, 0,\n                             [value]);\n        };\n\n    if (useObject === object) {\n      installSetter(\n          object,\n          name,\n          enforcingSetter);\n    } else {\n      // Since we're creating a new setter in subclass, we also need to\n      // overwrite the getter.\n      installSetterAndGetter(\n          object,\n          name,\n          enforcingSetter,\n          descriptor.get\n      );\n    }\n    this.originalSetters_[key] = originalSetter;\n  }\n\n  /**\n   * Restores the original setter for the property, as encountered during\n   * install().\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @param {!Object=} descriptorObject If present, will restore the original\n   *   setter/getter from this one, instead of object.\n   * @private\n   */\n  restoreSetter_(object, name, descriptorObject = undefined) {\n    let key = this.getKey_(object, name);\n    if (descriptorObject && !isPrototypeOf.call(descriptorObject, object)) {\n      throw new Error('Invalid prototype chain');\n    }\n    if (!this.originalSetters_[key]) {\n      throw new Error(\n          'TrustedTypesEnforcer: Cannot restore (double uninstallation?)');\n    }\n    if (descriptorObject) {\n      // We have to also overwrite a getter.\n      installSetterAndGetter(object, name, this.originalSetters_[key],\n          getOwnPropertyDescriptor(descriptorObject, name).get);\n    } else {\n      installSetter(object, name, this.originalSetters_[key]);\n    }\n    delete this.originalSetters_[key];\n  }\n\n  /**\n   * Restores the original method of an object, as encountered during install().\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @private\n   */\n  restoreFunction_(object, name) {\n    let key = this.getKey_(object, name);\n    if (!this.originalSetters_[key]) {\n      throw new Error(\n          'TrustedTypesEnforcer: Cannot restore (double uninstallation?)');\n    }\n    installFunction(object, name, this.originalSetters_[key]);\n    delete this.originalSetters_[key];\n  }\n\n  /**\n   * Returns the key name for caching original setters.\n   * @param {!Object} object The object of the to-be-wrapped property.\n   * @param {string} name The name of the property.\n   * @return {string} Key name.\n   * @private\n   */\n  getKey_(object, name) {\n    // TODO(msamuel): Can we use Object.prototype.toString.call(object)\n    // to get an unspoofable string here?\n    // TODO(msamuel): fail on '-' in object.constructor.name?\n    return '' + object.constructor.name + '-' + name;\n  }\n\n  /**\n   * Logs and enforces TrustedTypes depending on the given configuration.\n   * @template T\n   * @param {!Object} context The object that the setter is called for.\n   * @param {string} propertyName The name of the property.\n   * @param {!Function} typeToEnforce The type to enforce.\n   * @param {function(?):T} originalSetter Original setter.\n   * @param {number} argNumber Number of argument to enforce the type of.\n   * @param {Array} args Arguments.\n   * @return {T}\n   * @private\n   */\n  enforce_(context, propertyName, typeToEnforce, originalSetter, argNumber,\n           args) {\n    let value = args[argNumber];\n    const typeName = '' + typeToEnforce.name;\n    // If typed value is given, pass through.\n    if (TYPE_CHECKER_MAP.hasOwnProperty(typeName) &&\n        TYPE_CHECKER_MAP[typeName](value)) {\n      return apply(originalSetter, context, args);\n    }\n\n    // If function (instead of string) is passed to inline event attribute,\n    // pass through.\n    if (typeToEnforce === TrustedTypes.TrustedScript &&\n        apply(slice, propertyName, [0, 2]) === 'on' &&\n        value === null || typeof value === 'function') {\n      return apply(originalSetter, context, args);\n    }\n\n    // Apply url-allow-http\n    if (typeToEnforce === TrustedTypes.TrustedURL &&\n        this.config_.allowHttpUrls) {\n      const url = '' + value;\n      if (isHttpUrl_(url)) {\n        args[argNumber] = url;\n        return apply(originalSetter, context, args);\n      }\n    }\n\n    // Apply a fallback policy, if it exists.\n    const fallback = this.config_.fallbackPolicyName;\n    if (fallback) {\n      const fallbackPolicy = getExposedPolicy.call(TrustedTypes, fallback);\n      if (fallbackPolicy && TYPE_CHECKER_MAP.hasOwnProperty(typeName)) {\n        let fallbackValue;\n        try {\n          fallbackValue = fallbackPolicy[TYPE_PRODUCER_MAP[typeName]](value);\n        } catch (e) {\n          // eslint-disable-next-line no-empty\n        }\n        args[argNumber] = fallbackValue;\n        return apply(originalSetter, context, args);\n      }\n    }\n\n    let contextName = context.constructor.name || '' + context;\n    let message = `Failed to set ${propertyName} on ${contextName}: `\n        + `This property requires ${typeName}.`;\n\n    if (this.config_.isLoggingEnabled) {\n      // eslint-disable-next-line no-console\n      console.warn(message, propertyName, context, typeToEnforce, value);\n    }\n\n    // Unconditionally dispatch an event.\n    if (typeof SecurityPolicyViolationEvent == 'function') {\n      let blockedURI = '';\n      if (typeToEnforce === TrustedTypes.TrustedURL ||\n          typeToEnforce === TrustedTypes.TrustedScriptURL) {\n        blockedURI = parseUrl_(value) || '';\n        if (blockedURI) {\n          blockedURI = blockedURI.href;\n        }\n      }\n      const valueSlice = apply(slice, '' + value, [0, 40]);\n      const event = new SecurityPolicyViolationEvent(\n        'securitypolicyviolation',\n        {\n          'bubbles': true,\n          'blockedURI': blockedURI,\n          'disposition': this.config_.isEnforcementEnabled ?\n              'enforce' : 'report',\n          'documentURI': document.location.href,\n          'effectiveDirective': DIRECTIVE_NAME,\n          'originalPolicy': this.config_.cspString,\n          'statusCode': 0,\n          'violatedDirective': DIRECTIVE_NAME,\n          'sample': `${contextName}.${propertyName} ${valueSlice}`,\n        });\n      if (context.isConnected) {\n        context.dispatchEvent(event);\n      } else { // Fallback - dispatch an event on base document.\n        document.dispatchEvent(event);\n      }\n    }\n\n    if (this.config_.isEnforcementEnabled) {\n      throw new TypeError(message);\n    } else { // pass-through\n      return apply(originalSetter, context, args);\n    }\n  }\n}\n","/**\n * @license\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n */\n\n/**\n * @fileoverview Entry point for a polyfill that only defines the types\n * (i.e. no enforcement logic).\n */\nimport {TrustedTypes} from '../trustedtypes.js';\n\nconst tt = TrustedTypes;\n\n// Make sure Closure compiler exposes the names.\nif (typeof window !== 'undefined' &&\n    typeof window['TrustedTypes'] === 'undefined') {\n  window['TrustedTypes'] = {\n    'TrustedHTML': tt.TrustedHTML,\n    'TrustedURL': tt.TrustedURL,\n    'TrustedScriptURL': tt.TrustedScriptURL,\n    'TrustedScript': tt.TrustedScript,\n    'createPolicy': tt.createPolicy,\n    'getExposedPolicy': tt.getExposedPolicy,\n    'getPolicyNames': tt.getPolicyNames,\n  };\n}\n\nexport default tt;\n"],
"names":["$jscomp.objectCreate","$jscomp.setPrototypeOf","$jscomp.defineProperty","$jscomp.global","$jscomp.initSymbol","$jscomp.Symbol","$jscomp.SYMBOL_PREFIX","$jscomp.arrayIterator","$jscomp.initSymbolIterator","$jscomp.iteratorPrototype","$jscomp.polyfill","$jscomp.makeIterator","$jscomp.owns","constructor","TrustedTypeConfig","isLoggingEnabled","isEnforcementEnabled","allowedPolicyNames","allowHttpUrls","cspString","parseCSP","WHITESPACE","trim","split","SEMICOLON","map","serializedDirective","reduce","parsed","directive","slice","s","sort","fromCSP","csp","policy","TrustedTypeConfig$$module$src$data$trustedtypeconfig.parseCSP","enforce","DIRECTIVE_NAME","policies","indexOf","filter","p","charAt","TrustedTypes","trustedTypesBuilderTestOnly","rejectInputFn","TypeError","TrustedScript","TrustedHTML","TrustedScriptURL","TrustedURL","TrustedType","policyName","creatorSymbol","Error","defineProperty","value","enumerable","privates","obj","v","privateMap","get","undefined","create","set","selfContained","collection","proto","getPrototypeOf","ObjectPrototype","getOwnPropertyNames","key","lockdownTrustedType","SubClass","canonName","freeze","prototype","name","isTrustedTypeChecker","type","has","wrapPolicy","innerPolicy","creator","Ctor","methodName","method","policySpecificType","factory","result","allowedValue","o","createTypeMapping","Object","Array","forEach","push","Symbol","WeakMap","policyNames","exposedPolicies","Map","allowedNames","enforceNameWhitelist","toString","valueOf","$jscomp.inherits","createFunctionAllowed","hasOwnProperty","createPolicy","expose","call","console","warn","wrappedPolicy","getExposedPolicy","getPolicyNames","isHTML","isURL","isScriptURL","isScript","setAllowedPolicyNames","length","el","installFunction","object","fn","apply","Reflect","getOwnPropertyDescriptor","isPrototypeOf","String","UrlConstructor","URL","SecurityPolicyViolationEvent","window","parseUrl_","url","document","baseURI","e","SET_ATTRIBUTE_TYPE_MAP","HTMLElement","TYPE_CHECKER_MAP","ATTR_PROPERTY_MAP","TrustedTypesEnforcer","config_","config","originalSetters_","wrapSetAttribute_","wrapFunction_","Element","originalFn","that","setAttributeWrapper_","bind","args","setAttributeNSWrapper_","context","attrName","toLowerCase","ctor","Function","enforce_","wrapWithEnforceFunction_","argNumber","functionBody","descriptor","wrapSetter_","descriptorObject","enforcingSetter","originalSetter","useObject","configurable","propertyName","typeToEnforce","typeName","parsedUrl","protocol","contextName","message","blockedURI","href","valueSlice","event","location","isConnected","dispatchEvent","detectPolicy","currentScript","scripts","getElementsByTagName","bodyPrefix","textContent","substr","dataset","cspInMeta","head","querySelector","TrustedTypeConfig$$module$src$data$trustedtypeconfig.fromCSP","install","trustedTypesEnforcer","Range","Document","HTMLDocument","DOMParser","installScriptWrappers_","HTMLScriptElement","Node","installPropertySetWrappers_","attribute","property"]
}
